api:
  services:
    - service: send_code
      variables:
        codes: int[]
        frequency: int
      then:
        - lambda: !lambda |-
            int32_t* int32_arr = &codes[0];
            remote_base::RawAction<> *action = new remote_base::RawAction<>();
            action->set_parent(id(ir_transmitter));
            action->set_code_static(int32_arr, codes.size());
            action->set_carrier_frequency(frequency);
            action->play();

switch:
  - platform: template
    name: "template_relay_1"
    id: template_relay_1
    optimistic: false
    restore_state: false
    turn_on_action:
      then:
        - remote_transmitter.transmit_raw:
            carrier_frequency: 38kHz
            code: [4500, -4506, 500, -531, 474, -532, 476, -531, 474, -532, 474, -1538, 474, -1538, 476, -531, 473, -533, 474, -1537, 475, -1537, 478, -1533, 476, -1538, 476, -530, 475, -532, 475, -529, 476, -533, 473, -4520, 496, -532, 476, -531, 476, -531, 475, -531, 475, -532, 475, -531, 475, -532, 474, -535, 469, -1539, 474, -1539, 474, -1537, 475, -532, 474, -1538, 474, -1538, 474, -1536, 478, -1537, 473, -532, 475, -531, 475, -532, 474, -1538, 474]
        - switch.turn_off: template_relay_1
